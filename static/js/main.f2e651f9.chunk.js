(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{11:function(e,a,t){e.exports=t.p+"static/media/loading.7d02b50b.gif"},24:function(e,a,t){e.exports=t(36)},29:function(e,a,t){},30:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),l=t.n(c),o=(t(29),t(23)),s=t(8),i=(t(30),t(6));function m(e){var a=e.focus;return r.a.createElement("header",{className:"App-header"+(a?" focus":"")},r.a.createElement(i.b,{style:{color:"white",textDecoration:"none",fontWeight:"bold"},to:"/",className:"title"},"Watch",r.a.createElement("span",{className:"primary"},"Today")),r.a.createElement("span",{className:"details"},"Can not decide which movie to watch today? You are in the right place",r.a.createElement("br",null),r.a.createElement("span",{className:"info"},"This application is only a demonstration of Umer's frontend skills with React, a JavaScript framework"),r.a.createElement("br",null),r.a.createElement("a",{style:{color:"white",textDecoration:"none",fontSize:"1rem"},href:"https://umerkay.github.io"},"Click here to get back to my portfolio")))}var u=t(11),p=t.n(u),E="http://www.theprintworks.com/wp-content/themes/psBella/assets/img/film-poster-placeholder.png",d="";function h(e){var a=e.movie,t="N/A"===a.Poster?E:a.Poster;return r.a.createElement(i.b,{className:"movie "+("movie"!=a.Type?a.Type:""),to:d+"/movie/"+a.imdbID},r.a.createElement("h2",{className:"title"},a.Title),r.a.createElement("div",null,r.a.createElement("img",{alt:"The movie titled: ".concat(a.Title),src:t,className:"poster"})),r.a.createElement("p",null,r.a.createElement("span",{style:{fontStyle:"italic"}},a.Type)," ",a.Year))}function g(e){var a=e.loading,t=e.errorMessage,c=e.movies,l=e.search,o=e.match;return Object(n.useEffect)((function(){l(o.params.q)}),[]),r.a.createElement("div",{className:"moviesContainer"},r.a.createElement("div",{className:"movies"},c.map((function(e,a){return r.a.createElement(h,{key:e.imdbID,movie:e})}))),r.a.createElement("div",{className:"info"},a&&!t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"loading"},"loading... "),r.a.createElement("img",{width:"50",src:p.a,alt:""})):t?r.a.createElement("div",{className:"errorMessage"},"Sorry, the search could not be made because the server returned an error: ",t):null))}var v=t(7),f=Object(v.f)((function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)([]),m=Object(s.a)(o,2),u=m[0],p=m[1],E=function(e){e.target.value||p([]),fetch("https://www.omdbapi.com/?s=".concat(e.target.value,"&apikey=4a3b711b")).then((function(e){return e.json()})).then((function(e){"True"===e.Response?p(e.Search.map((function(e){return e.Title}))):p([])}))},d=function(a){a.preventDefault(),c&&(e.history.push("/search/"+c),e.search(c))};return r.a.createElement("form",{className:"search",onSubmit:d},r.a.createElement("input",{value:c,onChange:function(e){l(e.target.value),E(e)},type:"text",placeholder:"Query",onInput:E,list:"suggestions"}),u.length>0?r.a.createElement("datalist",{id:"suggestions"},u.map((function(e,a){return r.a.createElement("option",{key:a,value:e})}))):null,r.a.createElement(i.b,{className:"submitSearch",onClick:d,to:"/search/"+c.trim()},"Search"))})),b=t(12),y=t.n(b),O=t(5),S={loading:!1,movie:null,errorMessage:null},w=function(e,a){switch(a.type){case"LOAD_MOVIE_REQUEST":return Object(O.a)({},e,{loading:!0,errorMessage:null,movie:null});case"LOAD_MOVIE_SUCCESS":return Object(O.a)({},e,{loading:!1,movie:a.payload.movie,errorMessage:null});case"LOAD_MOVIE_FAILURE":return Object(O.a)({},e,{loading:!1,errorMessage:a.error,movie:null});default:return e}};function R(e){var a=e.match,t=Object(n.useReducer)(w,S),c=Object(s.a)(t,2),l=c[0],o=c[1],i=l.movie,m=(l.errorMessage,l.loading);console.log(l),Object(n.useEffect)((function(){u(a.params.id)}),[]);var u=function(e){var a,t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return o({type:"LOAD_MOVIE_REQUEST"}),n.prev=1,n.next=4,y.a.awrap(fetch("https://www.omdbapi.com/?i=".concat(e,"&apikey=4a3b711b&plot=full")));case 4:return a=n.sent,n.next=7,y.a.awrap(a.json());case 7:"True"===(t=n.sent).Response?o({type:"LOAD_MOVIE_SUCCESS",payload:{movie:t}}):o({type:"LOAD_MOVIE_FAILURE",error:t.Error}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),o({type:"LOAD_MOVIE_FAILURE",error:"Something went really, really wrong"});case 14:case"end":return n.stop()}}),null,null,[[1,11]])},E=i||{},d=E.Title,h=E.Poster,g=E.Genre,v=E.Type,f=E.Year,b=E.Rated,O=E.Plot,R=E.Language,_=E.imdbRating,M=E.imdbID;return r.a.createElement("div",{className:"movieview"},m?r.a.createElement("div",{className:"loading"},r.a.createElement("span",{className:"loading"},"loading... "),r.a.createElement("img",{width:"50",src:p.a,alt:""})):i?r.a.createElement("div",{className:"brand"},r.a.createElement("div",{className:"poster"},r.a.createElement("span",{className:"posterimgcontainer"},r.a.createElement("img",{src:h,alt:""}))),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},d),r.a.createElement("span",{className:"rated"},b),r.a.createElement("div",{className:"info1"},r.a.createElement("span",{style:{fontStyle:"italic"}},v)," ",f),r.a.createElement("br",null),r.a.createElement("div",{className:"genre"},g),r.a.createElement("div",{className:"language"},R),r.a.createElement("div",{className:"plot"},O),r.a.createElement("a",{className:"imdbRating",href:"https://www.imdb.com/title/".concat(M)},"IMDB Rating ",_))):null)}var _=t(22),M={loading:!1,movies:[],errorMessage:null,page:0,searchValue:""},N=function(e,a){switch(a.type){case"SEARCH_MOVIES_REQUEST":return Object(O.a)({},e,{loading:!0,errorMessage:null,movies:[]});case"LOAD_MORE_REQUEST":return Object(O.a)({},e,{loading:!0,errorMessage:null});case"SEARCH_MOVIES_SUCCESS":return Object(O.a)({},e,{loading:!1,movies:a.payload.movies,page:a.payload.page,searchValue:a.payload.searchValue,totalResults:a.payload.totalResults});case"LOAD_MORE_SUCCESS":return Object(O.a)({},e,{loading:!1,movies:a.payload.movies,page:a.payload.page});case"SEARCH_MOVIES_FAILURE":return Object(O.a)({},e,{loading:!1,errorMessage:a.error,movies:[],page:null,searchValue:null});default:return e}},A=function(){var e=Object(n.useReducer)(N,M),a=Object(s.a)(e,2),t=a[0],c=a[1],l=t.movies,u=t.errorMessage,p=t.loading,E=t.searchValue,d=t.page,h=t.totalResults;Object(_.a)((function(){E&&h>l.length&&(c({type:"LOAD_MORE_REQUEST"}),fetch("https://www.omdbapi.com/?s=".concat(E.trim(),"&apikey=4a3b711b&page=").concat(d+1)).then((function(e){return e.json()})).then((function(e){"True"===e.Response?(l.push.apply(l,Object(o.a)(e.Search)),c({type:"LOAD_MORE_SUCCESS",payload:{movies:l,page:d+1}})):c({type:"LOAD_MORE_FAILURE",error:e.Error})})))}));var b=function(e){c({type:"SEARCH_MOVIES_REQUEST"}),fetch("https://www.omdbapi.com/?s=".concat(e.trim(),"&apikey=4a3b711b")).then((function(e){return e.json()})).then((function(a){"True"===a.Response?c({type:"SEARCH_MOVIES_SUCCESS",payload:{movies:a.Search,page:1,searchValue:e,totalResults:a.totalResults}}):c({type:"SEARCH_MOVIES_FAILURE",error:a.Error})}))};return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{focus:!0}),r.a.createElement(f,{search:b}))}}),r.a.createElement(v.a,{path:"/search/:q/:page?",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{focus:!l.length&&!p}),r.a.createElement(f,{search:b}),r.a.createElement(g,Object.assign({errorMessage:u,movies:l,loading:p,search:b},e)))}}),r.a.createElement(v.a,{path:"/movie/:id",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{focus:!1}),r.a.createElement(f,{search:b}),r.a.createElement(R,e))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.f2e651f9.chunk.js.map