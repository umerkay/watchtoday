(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{11:function(e,a,t){e.exports=t.p+"static/media/loading.7d02b50b.gif"},24:function(e,a,t){e.exports=t(36)},29:function(e,a,t){},30:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(19),l=t.n(c),s=(t(29),t(23)),o=t(9);t(30);function i(e){var a=e.focus;return n.a.createElement("header",{className:"App-header"+(a?" focus":"")},n.a.createElement("h2",{className:"title"},"Watch",n.a.createElement("span",{className:"primary"},"Today")),n.a.createElement("span",{className:"details"},"Can not decide which movie to watch today? You are in the right place",n.a.createElement("br",null),n.a.createElement("span",{className:"info"},"This application is only a demonstration of Umer's frontend skills with React, a JavaScript framework")))}var m=t(11),u=t.n(m),E=t(8),p="http://www.theprintworks.com/wp-content/themes/psBella/assets/img/film-poster-placeholder.png",d="/watchtoday";function h(e){var a=e.movie,t="N/A"===a.Poster?p:a.Poster;return n.a.createElement(E.b,{className:"movie "+("movie"!=a.Type?a.Type:""),to:d+"/movie/"+a.imdbID},n.a.createElement("h2",{className:"title"},a.Title),n.a.createElement("div",null,n.a.createElement("img",{alt:"The movie titled: ".concat(a.Title),src:t,className:"poster"})),n.a.createElement("p",null,n.a.createElement("span",{style:{fontStyle:"italic"}},a.Type)," ",a.Year))}function g(e){var a=e.loading,t=e.errorMessage,c=e.movies,l=e.search,s=e.match;return Object(r.useEffect)((function(){l(s.params.q)}),[]),n.a.createElement("div",{className:"moviesContainer"},n.a.createElement("div",{className:"movies"},c.map((function(e,a){return n.a.createElement(h,{key:e.imdbID,movie:e})}))),n.a.createElement("div",{className:"info"},a&&!t?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"loading"},"loading... "),n.a.createElement("img",{width:"50",src:u.a,alt:""})):t?n.a.createElement("div",{className:"errorMessage"},"Sorry, the search could not be made because the server returned an error: ",t):null))}var v=t(6),f=Object(v.f)((function(e){var a=Object(r.useState)(""),t=Object(o.a)(a,2),c=t[0],l=t[1],s=function(a){a.preventDefault(),c&&(e.history.push("/watchtoday/search/"+c),e.search(c),l(""))};return n.a.createElement("form",{className:"search",onSubmit:s},n.a.createElement("input",{value:c,onChange:function(e){l(e.target.value)},type:"text",placeholder:"Query"}),n.a.createElement(E.b,{className:"submitSearch",onClick:s,to:"/search/"+c.trim()},"Search"))})),y=t(12),O=t.n(y),b=t(5),S={loading:!1,movie:null,errorMessage:null},w=function(e,a){switch(a.type){case"LOAD_MOVIE_REQUEST":return Object(b.a)({},e,{loading:!0,errorMessage:null,movie:null});case"LOAD_MOVIE_SUCCESS":return Object(b.a)({},e,{loading:!1,movie:a.payload.movie,errorMessage:null});case"LOAD_MOVIE_FAILURE":return Object(b.a)({},e,{loading:!1,errorMessage:a.error,movie:null});default:return e}};function R(e){var a=e.match,t=Object(r.useReducer)(w,S),c=Object(o.a)(t,2),l=c[0],s=c[1],i=l.movie,m=(l.errorMessage,l.loading);console.log(l),Object(r.useEffect)((function(){E(a.params.id)}),[]);var E=function(e){var a,t;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:"LOAD_MOVIE_REQUEST"}),r.prev=1,r.next=4,O.a.awrap(fetch("https://www.omdbapi.com/?i=".concat(e,"&apikey=4a3b711b&plot=full")));case 4:return a=r.sent,r.next=7,O.a.awrap(a.json());case 7:"True"===(t=r.sent).Response?s({type:"LOAD_MOVIE_SUCCESS",payload:{movie:t}}):s({type:"LOAD_MOVIE_FAILURE",error:t.Error}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),s({type:"LOAD_MOVIE_FAILURE",error:"Something went really, really wrong"});case 14:case"end":return r.stop()}}),null,null,[[1,11]])},p=i||{},d=p.Title,h=p.Poster,g=p.Genre,v=p.Type,f=p.Year,y=p.Rated,b=p.Plot,R=p.Language,_=p.imdbRating,M=p.imdbID;return n.a.createElement("div",{className:"movieview"},m?n.a.createElement("div",{className:"loading"},n.a.createElement("span",{className:"loading"},"loading... "),n.a.createElement("img",{width:"50",src:u.a,alt:""})):i?n.a.createElement("div",{className:"brand"},n.a.createElement("div",{className:"poster"},n.a.createElement("img",{src:h,alt:""})),n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"title"},d),n.a.createElement("span",{className:"rated"},y),n.a.createElement("div",{className:"info1"},n.a.createElement("span",{style:{fontStyle:"italic"}},v)," ",f),n.a.createElement("br",null),n.a.createElement("div",{className:"genre"},g),n.a.createElement("div",{className:"language"},R),n.a.createElement("div",{className:"plot"},b),n.a.createElement("a",{className:"imdbRating",href:"https://www.imdb.com/title/".concat(M)},"IMDB Rating ",_))):null)}var _=t(22),M={loading:!1,movies:[],errorMessage:null,page:0,searchValue:""},N=function(e,a){switch(a.type){case"SEARCH_MOVIES_REQUEST":return Object(b.a)({},e,{loading:!0,errorMessage:null,movies:[]});case"LOAD_MORE_REQUEST":return Object(b.a)({},e,{loading:!0,errorMessage:null});case"SEARCH_MOVIES_SUCCESS":return Object(b.a)({},e,{loading:!1,movies:a.payload.movies,page:a.payload.page,searchValue:a.payload.searchValue,totalResults:a.payload.totalResults});case"LOAD_MORE_SUCCESS":return Object(b.a)({},e,{loading:!1,movies:a.payload.movies,page:a.payload.page});case"SEARCH_MOVIES_FAILURE":return Object(b.a)({},e,{loading:!1,errorMessage:a.error,movies:[],page:null,searchValue:null});default:return e}},A=function(){var e=Object(r.useReducer)(N,M),a=Object(o.a)(e,2),t=a[0],c=a[1],l=t.movies,m=t.errorMessage,u=t.loading,p=t.searchValue,d=t.page,h=t.totalResults;Object(_.a)((function(){p&&h>l.length&&(c({type:"LOAD_MORE_REQUEST"}),fetch("https://www.omdbapi.com/?s=".concat(p.trim(),"&apikey=4a3b711b&page=").concat(d+1)).then((function(e){return e.json()})).then((function(e){"True"===e.Response?(l.push.apply(l,Object(s.a)(e.Search)),c({type:"LOAD_MORE_SUCCESS",payload:{movies:l,page:d+1}})):c({type:"LOAD_MORE_FAILURE",error:e.Error})})))}));var y=function(e){c({type:"SEARCH_MOVIES_REQUEST"}),fetch("https://www.omdbapi.com/?s=".concat(e.trim(),"&apikey=4a3b711b")).then((function(e){return e.json()})).then((function(a){"True"===a.Response?c({type:"SEARCH_MOVIES_SUCCESS",payload:{movies:a.Search,page:1,searchValue:e,totalResults:a.totalResults}}):c({type:"SEARCH_MOVIES_FAILURE",error:a.Error})}))};return n.a.createElement("div",{className:"App"},n.a.createElement(E.a,null,n.a.createElement(v.c,null,n.a.createElement(v.a,{path:"/watchtoday/",exact:!0,render:function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i,{focus:!0}),n.a.createElement(f,{search:y}))}}),n.a.createElement(v.a,{path:"/watchtoday/search/:q/:page?",render:function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i,{focus:!l.length&&!u}),n.a.createElement(f,{search:y}),n.a.createElement(g,Object.assign({errorMessage:m,movies:l,loading:u,search:y},e)))}}),n.a.createElement(v.a,{path:"/watchtoday/movie/:id",render:function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i,{focus:!1}),n.a.createElement(f,{search:y}),n.a.createElement(R,e))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.1eea7262.chunk.js.map